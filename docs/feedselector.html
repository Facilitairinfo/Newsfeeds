<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><title>Test FeedSelector</title></head>
<body>
  <h1>Test FeedSelector</h1>
  <input id="url" value="https://www.nen.nl/nieuws" style="width:400px">
  <button onclick="openSelector()">Open selectiepagina</button>
  <ul id="log"></ul>

  <script>
    function openSelector() {
      const url = document.getElementById("url").value;
      const proxy = "https://feedproxy.super-breeze-44c7.workers.dev/?url=" + encodeURIComponent(url);
      window.open(proxy, "_blank", "width=1200,height=800");
    }

    window.addEventListener("message", e => {
      if (!e.origin.startsWith("https://feedproxy.super-breeze-44c7.workers.dev")) return;
      const li = document.createElement("li");
      li.textContent = "Geselecteerd: " + e.data.raw;
      document.getElementById("log").appendChild(li);
    });
  </script>
</body>
</html>
